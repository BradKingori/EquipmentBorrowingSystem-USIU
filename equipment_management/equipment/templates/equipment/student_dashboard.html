{% extends 'equipment/base.html' %}

{% block pagecontent %}
<!-- Centering wrapper -->
<div class="container-fluid">
    <!-- Page title -->
    <h1 class="h3 mb-4 text-gray-800 text-center">Available Equipment</h1>

    <div class="row justify-content-center">
        {% for equipment in equipments %}
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
            <div class="card shadow border-left-primary h-100">
                <div class="card-body">
                    <!-- Image inside the card -->
                    <img src="" alt="{{ equipment.name }}" class="card-img-top" style="border-radius: 10px; height: 200px; object-fit: cover;">
                    
                    <h5 class="card-title mt-3">{{ equipment.name }}</h5>
                    <p class="card-text">{{ equipment.description|truncatewords:20 }}</p>

                    <form method="post" action="{% url 'student_dashboard' %}">
                        {% csrf_token %}
                        <input type="hidden" name="equipment_id" value="{{ equipment.id }}">
                        <button type="submit" class="btn btn-primary">Request Equipment</button>
                    </form>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Inline CSS for styling -->
<style>
    /* Styling for cards */
    .card {
        margin-top: 60px;
        margin-bottom: 20px;
        border-radius: 10px;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
    }

    /* Custom button style */
    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }

    .btn-primary:hover {
        background-color: #0056b3;
        border-color: #004085;
    }

    /* Center the cards in the page */
    .row {
        display: flex;
        justify-content: center;
    }

    /* Ensure images fit well in the cards */
    .card-img-top {
        border-radius: 10px;
        height: 200px;
        object-fit: cover;
    }
</style>

<!-- Inline JavaScript -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Example JavaScript: Display an alert when a form is submitted
        const forms = document.querySelectorAll('form');
        forms.forEach(form => {
            form.addEventListener('submit', function (e) {
                alert('Equipment request submitted successfully!');
            });
        });
    });
</script>

{% endblock %}
